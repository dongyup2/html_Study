<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <style>
        *{
            box-sizing: border-box;
        }
        .wrapper{
            display: grid;
            grid-template-rows: repeat(5, 100px);
            grid-template-columns: repeat(4, 100px);
            gap: 3px;
            grid-auto-rows: minmax(100px,auto);
        }
        .btn{
            border: 1px solid black;
            text-align: center;
            line-height: 100px;
            font-size: 2rem;
            font-weight: bold;
        }
        #window{
            grid-column: 1/5;
            text-align: right;
            padding: 10px;
            font-size: 3rem;
        }
        .btn:last-child{
            background-color: blue;
            color: white;
        }
        .btn:nth-child(16){
            background-color: aquamarine;
            color: white;
        }
        .btn:nth-child(13){
            background-color: aquamarine;
            color: white;
        }
        .btn:nth-child(14){
            background-color: aquamarine;
            color: white;
        }
        .btn:nth-child(9){
            background-color: aquamarine;
            color: white;
        }
        .btn:nth-child(5){
            background-color: aquamarine;
            color: white;
        }

    </style>
</head>
<body>
    <div class="wrapper">
        <div id = "window" class="btn">0</div>
        <div class="btn">7</div>
        <div class="btn">8</div>
        <div class="btn">9</div>
        <div class="btn">+</div>
        <div class="btn">4</div>
        <div class="btn">5</div>
        <div class="btn">6</div>
        <div class="btn">-</div>
        <div class="btn">1</div>
        <div class="btn">2</div>
        <div class="btn">3</div>
        <div class="btn">*</div>
        <div class="btn">/</div>
        <div class="btn">0</div>
        <div class="btn">C</div>
        <div class="btn">=</div>
    </div>
</body>
<script>
    const buttons = document.querySelectorAll('.btn');//
    const windowDisplay = document.getElementById('window'); // id가 window인애를 찾아서 변수에 저장

    const buttonClick = (event) => { // 버튼 클릭 이벤트가 발생할때 호출되는 함수이다.
        const value = event.target.textContent; // 클릭된 버튼의 내용을 변수 value에 저장한다.

        switch (value) { //switch (value) 문을 사용하여 value의 내용에 따라 다른 동작을 수행한다.
            case '=': 
                try {//'=': eval() 함수를 사용하여 windowDisplay에 있는 수식을 계산하고 결과를 표시한다.
                    windowDisplay.textContent = eval(windowDisplay.textContent);
                } catch (error) {
                    windowDisplay.textContent = 'Error';// 수식이 유효하지 않으면 'Error'를 표시합니다
                }
                break;
            case 'C':
                windowDisplay.textContent = '0'; //'C': windowDisplay의 내용을 '0'으로 초기화한다.
                break;
            default:
                if (windowDisplay.textContent === '0' || windowDisplay.textContent === 'Error') {//만약 0 이나 Error가 창에 있을때
                    windowDisplay.textContent = value;//다시 클릭한 내용이 창에 입력됨
                } else {
                    windowDisplay.textContent += value;
                }
                break;
        }
    };

    buttons.forEach(button => {
        button.addEventListener('click', buttonClick);
    });
</script>
</html>